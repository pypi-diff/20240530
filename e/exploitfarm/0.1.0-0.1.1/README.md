# Comparing `tmp/exploitfarm-0.1.0.tar.gz` & `tmp/exploitfarm-0.1.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "exploitfarm-0.1.0.tar", last modified: Mon May 27 14:12:02 2024, max compression
+gzip compressed data, was "exploitfarm-0.1.1.tar", last modified: Wed May 29 22:24:33 2024, max compression
```

## Comparing `exploitfarm-0.1.0.tar` & `exploitfarm-0.1.1.tar`

### file list

```diff
@@ -1,28 +1,28 @@
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/
--rw-r--r--   0 runner    (1001) docker     (127)       24 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/MANIFEST.in
--rw-r--r--   0 runner    (1001) docker     (127)     5533 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)     4763 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/README.md
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-27 14:12:02.451426 exploitfarm-0.1.0/exploitfarm/
--rw-r--r--   0 runner    (1001) docker     (127)     3214 2024-05-27 14:12:00.000000 exploitfarm-0.1.0/exploitfarm/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     3746 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/model.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/exploitfarm/utils/
--rw-r--r--   0 runner    (1001) docker     (127)     1064 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/__init__.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/exploitfarm/utils/cmd/
--rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/cmd/__init__.py
--rw-r--r--   0 runner    (1001) docker     (127)     9419 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/cmd/config.py
--rw-r--r--   0 runner    (1001) docker     (127)     7857 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/cmd/exploitinit.py
--rw-r--r--   0 runner    (1001) docker     (127)     5328 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/cmd/login.py
--rw-r--r--   0 runner    (1001) docker     (127)    13479 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/cmd/startxploit.py
--rw-r--r--   0 runner    (1001) docker     (127)     5132 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/config.py
--rw-r--r--   0 runner    (1001) docker     (127)     5371 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/utils/reqs.py
--rw-r--r--   0 runner    (1001) docker     (127)    18961 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/exploitfarm/xploit.py
-drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/exploitfarm.egg-info/
--rw-r--r--   0 runner    (1001) docker     (127)     5533 2024-05-27 14:12:02.000000 exploitfarm-0.1.0/exploitfarm.egg-info/PKG-INFO
--rw-r--r--   0 runner    (1001) docker     (127)      549 2024-05-27 14:12:02.000000 exploitfarm-0.1.0/exploitfarm.egg-info/SOURCES.txt
--rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-27 14:12:02.000000 exploitfarm-0.1.0/exploitfarm.egg-info/dependency_links.txt
--rw-r--r--   0 runner    (1001) docker     (127)      203 2024-05-27 14:12:02.000000 exploitfarm-0.1.0/exploitfarm.egg-info/requires.txt
--rw-r--r--   0 runner    (1001) docker     (127)       12 2024-05-27 14:12:02.000000 exploitfarm-0.1.0/exploitfarm.egg-info/top_level.txt
--rw-r--r--   0 runner    (1001) docker     (127)      211 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/requirements.txt
--rw-r--r--   0 runner    (1001) docker     (127)       38 2024-05-27 14:12:02.455426 exploitfarm-0.1.0/setup.cfg
--rw-r--r--   0 runner    (1001) docker     (127)     1025 2024-05-27 14:12:00.000000 exploitfarm-0.1.0/setup.py
--rwxr-xr-x   0 runner    (1001) docker     (127)    12540 2024-05-27 14:11:58.000000 exploitfarm-0.1.0/xfarm
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:33.741793 exploitfarm-0.1.1/
+-rw-r--r--   0 runner    (1001) docker     (127)       24 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/MANIFEST.in
+-rw-r--r--   0 runner    (1001) docker     (127)     6031 2024-05-29 22:24:33.741793 exploitfarm-0.1.1/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)     5261 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/README.md
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:33.737793 exploitfarm-0.1.1/exploitfarm/
+-rw-r--r--   0 runner    (1001) docker     (127)     3214 2024-05-29 22:24:30.000000 exploitfarm-0.1.1/exploitfarm/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     3746 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/model.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:33.737793 exploitfarm-0.1.1/exploitfarm/utils/
+-rw-r--r--   0 runner    (1001) docker     (127)     1064 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/__init__.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:33.741793 exploitfarm-0.1.1/exploitfarm/utils/cmd/
+-rw-r--r--   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/cmd/__init__.py
+-rw-r--r--   0 runner    (1001) docker     (127)     9506 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/cmd/config.py
+-rw-r--r--   0 runner    (1001) docker     (127)     7829 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/cmd/exploitinit.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5328 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/cmd/login.py
+-rw-r--r--   0 runner    (1001) docker     (127)    13940 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/cmd/startxploit.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5132 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/config.py
+-rw-r--r--   0 runner    (1001) docker     (127)     5402 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/utils/reqs.py
+-rw-r--r--   0 runner    (1001) docker     (127)    18997 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/exploitfarm/xploit.py
+drwxr-xr-x   0 runner    (1001) docker     (127)        0 2024-05-29 22:24:33.741793 exploitfarm-0.1.1/exploitfarm.egg-info/
+-rw-r--r--   0 runner    (1001) docker     (127)     6031 2024-05-29 22:24:33.000000 exploitfarm-0.1.1/exploitfarm.egg-info/PKG-INFO
+-rw-r--r--   0 runner    (1001) docker     (127)      549 2024-05-29 22:24:33.000000 exploitfarm-0.1.1/exploitfarm.egg-info/SOURCES.txt
+-rw-r--r--   0 runner    (1001) docker     (127)        1 2024-05-29 22:24:33.000000 exploitfarm-0.1.1/exploitfarm.egg-info/dependency_links.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      203 2024-05-29 22:24:33.000000 exploitfarm-0.1.1/exploitfarm.egg-info/requires.txt
+-rw-r--r--   0 runner    (1001) docker     (127)       12 2024-05-29 22:24:33.000000 exploitfarm-0.1.1/exploitfarm.egg-info/top_level.txt
+-rw-r--r--   0 runner    (1001) docker     (127)      211 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/requirements.txt
+-rw-r--r--   0 runner    (1001) docker     (127)       38 2024-05-29 22:24:33.741793 exploitfarm-0.1.1/setup.cfg
+-rw-r--r--   0 runner    (1001) docker     (127)     1025 2024-05-29 22:24:30.000000 exploitfarm-0.1.1/setup.py
+-rwxr-xr-x   0 runner    (1001) docker     (127)    12543 2024-05-29 22:24:13.000000 exploitfarm-0.1.1/xfarm
```

### Comparing `exploitfarm-0.1.0/PKG-INFO` & `exploitfarm-0.1.1/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 Metadata-Version: 2.1
 Name: exploitfarm
-Version: 0.1.0
+Version: 0.1.1
 Summary: Exploit Farm client
 Home-page: https://github.com/pwnzer0tt1/exploitfarm
 Author: Pwnzer0tt1
 Author-email: pwnzer0tt1@poliba.it
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
-Requires-Python: >=3.10
+Requires-Python: >=3.11
 Description-Content-Type: text/markdown
 Requires-Dist: typer==0.12.3
 Requires-Dist: requests==2.31.0
 Requires-Dist: urllib3<2.1.0,>=1.25.3
 Requires-Dist: python-dateutil==2.9.0.post0
 Requires-Dist: pydantic>=2
 Requires-Dist: typing-extensions>=4.7.1
@@ -20,14 +20,19 @@
 Requires-Dist: textual==0.63.2
 Requires-Dist: toml==0.10.2
 Requires-Dist: orjson==3.10.3
 Requires-Dist: textual-plotext==0.2.1
 
 # Exploit Farm python library
 
+ExploitFarm is a flag submitter and attack manager for Attack-Defense CTFs.
+The project is composed by a client and a server thats cooperates to manage the attacks and the flags.
+The design is directly inspired by [destructive farm](https://gitbub.com/DestructiveVoice/DestructiveFarm) but completely rewritten and feature rich.
+Find more information about this project on [exploitfarm](https://github.com/pwnzer0tt1/exploitfarm) github page and our team page [Pwnzer0tt1](https://pwnzer0tt1.it/)
+
 This library is used to interact with the Exploit Farm APIs.
 
 ## Installation
 
 ```bash
 pip3 install exploitfarm
 ```
```

### Comparing `exploitfarm-0.1.0/README.md` & `exploitfarm-0.1.1/README.md`

 * *Files 12% similar despite different names*

```diff
@@ -1,9 +1,14 @@
 # Exploit Farm python library
 
+ExploitFarm is a flag submitter and attack manager for Attack-Defense CTFs.
+The project is composed by a client and a server thats cooperates to manage the attacks and the flags.
+The design is directly inspired by [destructive farm](https://gitbub.com/DestructiveVoice/DestructiveFarm) but completely rewritten and feature rich.
+Find more information about this project on [exploitfarm](https://github.com/pwnzer0tt1/exploitfarm) github page and our team page [Pwnzer0tt1](https://pwnzer0tt1.it/)
+
 This library is used to interact with the Exploit Farm APIs.
 
 ## Installation
 
 ```bash
 pip3 install exploitfarm
 ```
```

### Comparing `exploitfarm-0.1.0/exploitfarm/__init__.py` & `exploitfarm-0.1.1/exploitfarm/__init__.py`

 * *Files 1% similar despite different names*

```diff
@@ -1,9 +1,9 @@
 
-__version__ = "0.1.0"
+__version__ = "0.1.1"
 
 from exploitfarm.utils import try_tcp_connection
 from exploitfarm.model import ServiceDTO
 import requests, functools
 
 class __g:
     host_getted = False
```

### Comparing `exploitfarm-0.1.0/exploitfarm/model.py` & `exploitfarm-0.1.1/exploitfarm/model.py`

 * *Files identical despite different names*

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/__init__.py` & `exploitfarm-0.1.1/exploitfarm/utils/__init__.py`

 * *Files identical despite different names*

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/cmd/config.py` & `exploitfarm-0.1.1/exploitfarm/utils/cmd/config.py`

 * *Files 0% similar despite different names*

```diff
@@ -10,15 +10,16 @@
 from textual.widgets import Input, Label, Pretty, Checkbox, Footer
 from textual.containers import Horizontal
 from textual.validation import Length
 from rich import print
 from exploitfarm.utils.config import ClientConfig
 from exploitfarm.utils.reqs import get_url
 import dateutil, traceback
-from datetime import datetime, timedelta, UTC
+from datetime import datetime as dt, timedelta 
+import datetime
 
 TOLLERANCE_TIME = timedelta(seconds=5)
 
 class InitialConfiguration(App):
     
     def __init__(self, config: ClientConfig, initial_error: str|None = None):
         super().__init__()
@@ -156,18 +157,19 @@
     
     @on(Button.Pressed, "#test")
     def test(self):
         error_label = self.query_one("#error", Label)
         error_label.remove_class("hidden")
         try:
             self.config.fetch_status()
-            error_label.update(f"[bold green]Connection done successfully to server[/]: {get_url("//", self.config)}")
+            error_label.update(f"[bold green]Connection done successfully to server[/]: {get_url('//', self.config)}")
             return True
         except Exception as e:
-            error_label.update(f"[bold red]Failed to connect to server at {get_url("//", self.config)}[/]: [orange]{e}[/]")
+            e = traceback.format_exc()
+            error_label.update(f"[bold red]Failed to connect to server at {get_url('//', self.config)}[/]: [orange]{e}[/]")
             return False
     
     @on(Checkbox.Changed, "#https")
     def https_change(self, event: Checkbox.Changed):
         self.config.server.https = event.value
     
     @on(Checkbox.Changed, "#ign_conn_failed")
@@ -249,15 +251,15 @@
         try:
             delta_request = config.delta_fetch_status()
         except Exception:
             print(f"[bold red]{msg}[/]")
             exit(1)
 
     if config.status:
-        server_time = dateutil.parser.parse(config.status["server_time"], tzinfos={"UTC": UTC})
-        delta = server_time - datetime.now(UTC)
+        server_time = dateutil.parser.parse(config.status["server_time"], tzinfos={"UTC": datetime.timezone.utc})
+        delta = server_time - dt.now(datetime.timezone.utc)
         delta = abs(delta.total_seconds())
         tollerance = TOLLERANCE_TIME+delta_request
         tollerance = abs(tollerance.total_seconds())
         if delta > tollerance:
             print(f"[bold yellow]⚠️ WARNING! The server time is not synchronized with the client, please check the server/client time is correct (delta of {delta} > tol: {tollerance})[/]")
     return True
```

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/cmd/exploitinit.py` & `exploitfarm-0.1.1/exploitfarm/utils/cmd/exploitinit.py`

 * *Files 1% similar despite different names*

```diff
@@ -135,21 +135,20 @@
         if event.value == Language.other.value:
             self.show_error("[bold yellow]Remember to set teh correct main file and interpreter in the config file!")
         else:
             self.query_one("#error", Label).add_class("hidden")
         self.lang = event.value
     
     @on(Select.Changed, "#srv")
-    def lang_changed(self, event: Select.Changed) -> None:
+    def srv_changed(self, event: Select.Changed) -> None:
         if event.value is None:
             self.query(".add-srv").remove_class("hidden")
         else:
             self.query(".add-srv").add_class("hidden")
             self.query_one("#srv_name_errors_box", Horizontal).add_class("hidden")
-        print(event.value)
         self.service = event.value
     
     def action_save(self):
         self.save()
     
     def action_cancel(self):
         self.cancel()
```

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/cmd/login.py` & `exploitfarm-0.1.1/exploitfarm/utils/cmd/login.py`

 * *Files identical despite different names*

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/cmd/startxploit.py` & `exploitfarm-0.1.1/exploitfarm/utils/cmd/startxploit.py`

 * *Files 4% similar despite different names*

```diff
@@ -1,14 +1,15 @@
 from textual.app import App, ComposeResult
-from textual.widgets import Footer, RichLog, Tabs, DataTable, Header, Label
+from textual.widgets import Footer, RichLog, Tab, Tabs, DataTable, Header, Label
 from textual.widgets.data_table import CellDoesNotExist
 from exploitfarm.utils.config import ClientConfig, ExploitConfig
 from multiprocessing import Queue
 from exploitfarm.model import AttackExecutionStatus
-from datetime import datetime, UTC
+from datetime import datetime as dt
+import datetime
 from rich.text import Text
 from rich.markup import escape
 from textual_plotext import PlotextPlot
 import threading
 from textual.reactive import var
 from datetime import timedelta
 import dateutil.parser
@@ -128,15 +129,18 @@
     
     def __init__(self, config: ClientConfig):
         super().__init__()
         self.title = f"xFarm - Exploit execution of {g.exploit_config.name}"
         self.config = config            
     
     BINDINGS = [
-        ("ctrl+c", "cancel()", "Close attack")
+        ("ctrl+c", "cancel()", "Close attack"),
+        ("1", "show_tab('Teams')", "Show teams"),
+        ("2", "show_tab('Log')", "Show logs"),
+        ("3", "show_tab('Graph')", "Show graph"),
     ]
     
     CSS = """
         .hidden {
             display: none;
         }
         .tab {
@@ -151,17 +155,17 @@
         }
         .full-width {
             width: 100%;
         }
     """
     
     TABS = [
-        "Teams",
-        "Log",
-        "Graph"
+        Tab("Teams", id="Teams"),
+        Tab("Log", id="Log"),
+        Tab("Graph", id="Graph")
     ]
     
     COLUMNS = [
         "Team 👾",
         "Host 📡",
         "Errors 🚨",
         "Flags 🚩",
@@ -183,15 +187,15 @@
         last_attack_status = history[-1].get("status", None) if history else None
         last_flag_time = None
         for ele in reversed(history):
             if ele.get("flags", 0) > 0:
                 last_flag_time = ele.get("end_time", None)
                 if isinstance(last_flag_time, str):
                     last_flag_time = dateutil.parser.parse(last_flag_time)
-                last_flag_time = str(datetime.now(UTC) - last_flag_time).split(".")[0] if last_flag_time else None
+                last_flag_time = str(dt.now(datetime.timezone.utc) - last_flag_time).split(".")[0] if last_flag_time else None
                 break
         last_start_time = history[-1].get("start_time", None) if history else None
         if isinstance(last_start_time, str):
             last_start_time = dateutil.parser.parse(last_start_time)
         last_end_time = history[-1].get("end_time", None) if history else None
         if isinstance(last_end_time, str):
             last_end_time = dateutil.parser.parse(last_end_time)
@@ -235,25 +239,25 @@
             next_attack = g.memory.get("next_attack_at", None)
             submitter_flag_queue = g.memory.get("submitter_flags_in_queue", None)
             submitter_flag_queue = submitter_flag_queue if not submitter_flag_queue is None else "❓"
             submitter_status = g.memory.get("submitter_status", None)
             submitter_status = "🟢" if submitter_status else "[bold red]❌ ( Can't submit flags )[/]" if not submitter_status is None else "❓"
             config_updater = g.memory.get("config_update", None)
             config_updater = "🟢" if config_updater else "[bold red]❌ (Check server is alive)[/]" if not config_updater is None else "❓"
-            this_time = datetime.now(UTC)
+            this_time = dt.now(datetime.timezone.utc)
             delta_next_attack = str(next_attack - this_time).split(".")[0]+" s" if next_attack and next_attack > this_time else "❓"
             status_text = self.query_one("#status_text", Label)
             messages = config.get("messages", [])
             messages = ", ".join([f"[bold red]{ele['level']}[/]: {escape(ele['title'])}" for ele in messages])
             status_text.update(
                 f"[yellow]Exploit [bold]{escape(g.exploit_config.name)}[/] is running.. [/]\t\t\t"
                 f"[bold]{messages}[/]\n"
                 f"Submitter status: [bold green]{submitter_status}[/] (queued: {submitter_flag_queue})\t"
-                f"Exploit timeout: [bold yellow]{g.memory.get("runtime_timeout", "Unknown")} s[/]\t\t\t"
-                f"Tick Duration: [bold green]{config.get("config", {}).get("TICK_DURATION", "Unknown")} s[/]\t\t\t"
+                f"Exploit timeout: [bold yellow]{g.memory.get('runtime_timeout', 'Unknown')} s[/]\t\t\t"
+                f"Tick Duration: [bold green]{config.get('config', {}).get('TICK_DURATION', 'Unknown')} s[/]\t\t\t"
                 f"Workers: [bold green]{g.pool_size}[/]\n"
                 f"Server connection: [bold green]{config_updater}[/]\t\t\t"
                 f"Next Attacks: [bold green]{delta_next_attack}[/]\t\t\t"
                 f"Flag Format: [bold green]{escape(config.get('config', {}).get('FLAG_REGEX', 'Unknown'))}[/]"         
             )
             
             used_keys = set()
@@ -289,23 +293,29 @@
         self.run_worker(self.update_data, thread=True)
         self.run_worker(self.update_log, thread=True)
         self.run_worker(self.flag_graph_update, thread=True)
 
     def compose(self) -> ComposeResult:
         yield Header(self.title)
         yield Label(id="status_text", classes="full-width")
-        yield Tabs(*self.TABS)
+        yield Tabs(*self.TABS, id="tabs")
         yield DataTable(id="teams", classes="tab tab-Teams hidden", cell_padding=3, header_height=5 )
         yield RichLog(highlight=True, id="log", classes="tab tab-Log hidden", wrap=True, auto_scroll=True, max_lines=5000)
         yield FlagGraph("Flags got over time", id="flags_graph", classes="tab tab-Graph hidden")
         yield Footer()    
-    
+        
+    def show_tab(self, tab_name:str):
+        self.query(".tab").add_class("hidden")
+        self.query(f".tab-{tab_name}").remove_class("hidden")
+
+    def action_show_tab(self, tab_name:str):
+        self.query_one("#tabs", Tabs)._activate_tab(self.query_one(f"#{tab_name}", Tab))
+
     def on_tabs_tab_activated(self, event: Tabs.TabActivated) -> None:
         """Handle TabActivated message sent by Tabs."""
-        self.query(".tab").add_class("hidden")
-        self.query(f".tab-{event.tab.label_text}").remove_class("hidden")
-    
+        self.show_tab(event.tab.label_text)
+
     def action_cancel(self):
         with self.suspend(): # Needed to avoid the app to hang, and terminal to be unusable
             self.exit(0)
             stop_screen()
-    
+
```

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/config.py` & `exploitfarm-0.1.1/exploitfarm/utils/config.py`

 * *Files identical despite different names*

### Comparing `exploitfarm-0.1.0/exploitfarm/utils/reqs.py` & `exploitfarm-0.1.1/exploitfarm/utils/reqs.py`

 * *Files 2% similar despite different names*

```diff
@@ -4,16 +4,17 @@
 from exploitfarm.utils.config import ClientConfig
 import orjson
 
 HTTP_TIMEOUT = float(os.getenv("XFARM_HTTP_TIMEOUT", 5))
 PATH_OFFSET = os.getenv("XFARM_PATH_OFFSET", "/api")
 
 def get_url(path:str, config: ClientConfig|None = None) -> str:
-    result = f"http{'s' if config.server.https else ''}://{config.server.address}:{config.server.port}"+os.path.join("/", PATH_OFFSET, path[1:] if path.startswith('/') else path)
-    if not result.endswith("/"): result += "/"
+    protocol = "https" if config.server.https else "http"
+    result = f"{protocol}://{config.server.address}:{config.server.port}"+os.path.join("/", PATH_OFFSET, path[1:] if path.startswith('/') else path)
+    if result.endswith("/"): result = result[:-1]
     return result
 
 def jsonify(data: Any) -> str:
     return orjson.loads(orjson.dumps(data))
 
 def get_session(auth:str|None|ClientConfig = None) -> requests.Session:
     res = requests.Session()
```

### Comparing `exploitfarm-0.1.0/exploitfarm/xploit.py` & `exploitfarm-0.1.1/exploitfarm/xploit.py`

 * *Files 2% similar despite different names*

```diff
@@ -8,30 +8,31 @@
 import dateutil.parser
 import os, re, orjson
 import subprocess, time, threading, traceback
 from concurrent.futures import ThreadPoolExecutor
 from math import ceil
 from exploitfarm.utils.config import ClientConfig, ExploitConfig
 from multiprocessing import Queue
-from datetime import datetime, UTC, timedelta
+from datetime import datetime as dt, timedelta
+import datetime
 from exploitfarm.model import AttackExecutionStatus, AttackMode
 from rich import print
 from uuid import UUID
 
 os_windows = (os.name == 'nt')
 
 class g:
     pool_size:int = 50
     config: ClientConfig = None
     shared_memory: dict = None
     submit_pool_timeout: int = 3
     server_status_refresh_period: int = 5
     exploit_config: ExploitConfig = None
     print_queue: Queue = None
-    last_attack_time: datetime = None
+    last_attack_time: dt = None
     config_update_event:Queue = Queue()
     flag_storage:"FlagStorage" = None 
     instance_storage:"InstanceStorage" = None
     exit_event = threading.Event()
 
 class InstanceStorage:
     """
@@ -86,16 +87,16 @@
                 self.add(ele["flags"], ele["target"], ele["start_time"], ele["end_time"], AttackExecutionStatus(ele["status"]), ele["error"])
         except Exception:
             pass
 
     def add(self,
         flags: list[str],
         team: int,
-        start_time: datetime,
-        end_time: datetime,
+        start_time: dt,
+        end_time: dt,
         status: AttackExecutionStatus,
         output: bytes,
     ):
         with self._lock:
             flag_cache:set = g.shared_memory.get("flag_cache", set())
             flags = [flag for flag in flags if flag not in flag_cache]
             flag_cache.update(flags)
@@ -242,17 +243,17 @@
             g.shared_memory["submitter_flags_in_queue"] = sum([len(ele["flags"]) for ele in flags_to_post])
             if flags_to_post: post_flags(flags_to_post)
     except Exception as e:
         g.shared_memory["submitter_status"] = False
         qprint(traceback.format_exc())
         qprint(f'Posting loop died: {repr(e)}')
 
-def process_sploit_filter(proc:subprocess.Popen, team: dict, start_time: datetime, killed: bool):
+def process_sploit_filter(proc:subprocess.Popen, team: dict, start_time: dt, killed: bool):
     try:
-        end_time = datetime.now(UTC)
+        end_time = dt.now(datetime.timezone.utc)
         output = proc.stdout.read()
         
         if isinstance(output, bytes):
             output = output.decode('utf-8', errors='replace')
         
         qprint(f"Output of the sploit of {team['host']} killed[{killed}] status[{proc.returncode}]: '{team.get('short_name') or team.get('name') or team.get('id')}' started: {start_time} ended: {end_time}\n{output}")
         config = g.shared_memory["config"]
@@ -302,15 +303,15 @@
     if os_windows:
         kernel32.SetConsoleCtrlHandler(win_ignore_ctrl_c, False)
 
     return proc, g.instance_storage.register_start(proc)
 
 
 def run_sploit(team:dict, max_runtime:float):
-    start_time = datetime.now(UTC)
+    start_time = dt.now(datetime.timezone.utc)
     if g.exit_event.is_set(): return
     try:
         g.shared_memory["team-"+str(team["id"])+"-executing"] = True
         proc, instance_id = launch_sploit(team, max_runtime)
     except Exception as e:
         if isinstance(e, FileNotFoundError):
             qprint(f'Sploit file or the interpreter for it not found: {repr(e)}')
@@ -340,25 +341,25 @@
     except Exception as e:
         qprint(traceback.format_exc())
         qprint(f'Failed to finish sploit: {repr(e)}')
 
 def next_timout() -> float|int:
     config = g.shared_memory["config"]
     attack_mode = AttackMode(config["config"]["ATTACK_MODE"])
-    this_time = datetime.now(UTC)
+    this_time = dt.now(datetime.timezone.utc)
     if not g.last_attack_time:
         return 0 #Start the attack immediately
     match attack_mode:
         case AttackMode.TICK_DELAY:
             timeout = config["config"]["TICK_DURATION"] - (this_time - g.last_attack_time).total_seconds()
             return timeout if timeout > 0 else 0
         case AttackMode.WAIT_FOR_TIME_TICK:
             start_time = dateutil.parser.parse(config["config"]["START_TIME"])
             tick = 1
-            next_time:datetime = None
+            next_time:dt = None
             if start_time > this_time:
                 qprint("Waiting for the start time")
                 return (start_time - this_time).total_seconds()
             while True:
                 next_time = start_time + timedelta(seconds=config["config"]["TICK_DURATION"] * tick) + timedelta(seconds=config["config"]["ATTACK_TIME_TICK_DELAY"])
                 if next_time > g.last_attack_time:
                     break
@@ -401,15 +402,15 @@
             max_runtime = calc_runtime_timeout()
             if max_runtime == WARNING_RUNTIME:
                 qprint(f"⚠️ WARNING: The runtime of the attack is too low: consider increasing the number thread pool size")
             g.shared_memory["runtime_timeout"] = max_runtime
             for team in get_teams():
                 pool.submit(run_sploit, team, max_runtime)
             
-            g.last_attack_time = datetime.now(UTC)
+            g.last_attack_time = dt.now(datetime.timezone.utc)
             try:
                 timeout = next_timout()
                 g.shared_memory["next_timeout"] = timeout
                 g.shared_memory["last_attack"] = g.last_attack_time
                 g.shared_memory["next_attack_at"] = g.last_attack_time + timedelta(seconds=timeout)
                 qprint(f"--> Next attacks will be in {timeout} seconds")
                 g.config_update_event.get(timeout=timeout) #If the config is updated, all attacks will be "restarted"
@@ -498,8 +499,8 @@
     g.exploit_config = ExploitConfig.read(path)
     g.print_queue = print_queue
     g.flag_storage = FlagStorage(config.client_id)
     g.instance_storage = InstanceStorage()
     
     thr = threading.Thread(target=xploit, args=(path,))
     thr.start()
-    return thr
+    return thr
```

### Comparing `exploitfarm-0.1.0/exploitfarm.egg-info/PKG-INFO` & `exploitfarm-0.1.1/exploitfarm.egg-info/PKG-INFO`

 * *Files 4% similar despite different names*

```diff
@@ -1,18 +1,18 @@
 Metadata-Version: 2.1
 Name: exploitfarm
-Version: 0.1.0
+Version: 0.1.1
 Summary: Exploit Farm client
 Home-page: https://github.com/pwnzer0tt1/exploitfarm
 Author: Pwnzer0tt1
 Author-email: pwnzer0tt1@poliba.it
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Operating System :: OS Independent
-Requires-Python: >=3.10
+Requires-Python: >=3.11
 Description-Content-Type: text/markdown
 Requires-Dist: typer==0.12.3
 Requires-Dist: requests==2.31.0
 Requires-Dist: urllib3<2.1.0,>=1.25.3
 Requires-Dist: python-dateutil==2.9.0.post0
 Requires-Dist: pydantic>=2
 Requires-Dist: typing-extensions>=4.7.1
@@ -20,14 +20,19 @@
 Requires-Dist: textual==0.63.2
 Requires-Dist: toml==0.10.2
 Requires-Dist: orjson==3.10.3
 Requires-Dist: textual-plotext==0.2.1
 
 # Exploit Farm python library
 
+ExploitFarm is a flag submitter and attack manager for Attack-Defense CTFs.
+The project is composed by a client and a server thats cooperates to manage the attacks and the flags.
+The design is directly inspired by [destructive farm](https://gitbub.com/DestructiveVoice/DestructiveFarm) but completely rewritten and feature rich.
+Find more information about this project on [exploitfarm](https://github.com/pwnzer0tt1/exploitfarm) github page and our team page [Pwnzer0tt1](https://pwnzer0tt1.it/)
+
 This library is used to interact with the Exploit Farm APIs.
 
 ## Installation
 
 ```bash
 pip3 install exploitfarm
 ```
```

### Comparing `exploitfarm-0.1.0/exploitfarm.egg-info/SOURCES.txt` & `exploitfarm-0.1.1/exploitfarm.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `exploitfarm-0.1.0/setup.py` & `exploitfarm-0.1.1/setup.py`

 * *Files 8% similar despite different names*

```diff
@@ -2,15 +2,15 @@
 
 with open("README.md", "r", encoding="utf-8") as fh:
     long_description = fh.read()
 
 with open('requirements.txt', 'r', encoding='utf-8') as f:
     required = [ele.strip() for ele in f.read().splitlines() if not ele.strip().startswith("#") and ele.strip() != ""]
 
-VERSION = "0.1.0"
+VERSION = "0.1.1"
 
 setuptools.setup(
     name="exploitfarm",
     version= VERSION if "{" not in VERSION else "0.0.0", #uv pip install -U . --no-cache-dir for testing
     author="Pwnzer0tt1",
     author_email="pwnzer0tt1@poliba.it",
     scripts=["xfarm"],
@@ -22,9 +22,9 @@
     url="https://github.com/pwnzer0tt1/exploitfarm",
     packages=setuptools.find_packages(),
     classifiers=[
         "Programming Language :: Python :: 3",
         "License :: OSI Approved :: MIT License",
         "Operating System :: OS Independent",
     ],
-    python_requires='>=3.10',
+    python_requires='>=3.11',
 )
```

### Comparing `exploitfarm-0.1.0/xfarm` & `exploitfarm-0.1.1/xfarm`

 * *Files 0% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-#!/usr/bin/env python3
+#!/usr/bin/env python3.10
 
 import typer
 from rich import print
 from rich.markup import escape
 from rich.console import Console
 
 from enum import Enum
```

