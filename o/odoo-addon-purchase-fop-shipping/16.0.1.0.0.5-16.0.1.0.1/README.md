# Comparing `tmp/odoo_addon_purchase_fop_shipping-16.0.1.0.0.5-py3-none-any.whl.zip` & `tmp/odoo_addon_purchase_fop_shipping-16.0.1.0.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,33 +1,33 @@
-Zip file size: 34410 bytes, number of entries: 31
--rw-r--r--  2.0 unx     2238 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/README.rst
--rw-r--r--  2.0 unx       21 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/__init__.py
--rw-r--r--  2.0 unx      657 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/__manifest__.py
--rw-r--r--  2.0 unx     2907 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/de.po
--rw-r--r--  2.0 unx     3337 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/es.po
--rw-r--r--  2.0 unx     3395 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/es_PE.po
--rw-r--r--  2.0 unx     3332 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/fr.po
--rw-r--r--  2.0 unx     2931 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/fr_BE.po
--rw-r--r--  2.0 unx     2909 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/gl.po
--rw-r--r--  2.0 unx     3034 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/hr.po
--rw-r--r--  2.0 unx     3391 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/it.po
--rw-r--r--  2.0 unx     2903 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/nl.po
--rw-r--r--  2.0 unx     2952 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/nl_NL.po
--rw-r--r--  2.0 unx     2952 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/pt_BR.po
--rw-r--r--  2.0 unx     2592 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/purchase_fop_shipping.pot
--rw-r--r--  2.0 unx     2958 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/ro.po
--rw-r--r--  2.0 unx     2964 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/sl.po
--rw-r--r--  2.0 unx     2925 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/i18n/vi_VN.po
--rw-r--r--  2.0 unx       45 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/models/__init__.py
--rw-r--r--  2.0 unx      476 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/models/partner.py
--rw-r--r--  2.0 unx     2036 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/models/purchase.py
--rw-r--r--  2.0 unx      352 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/security/res_groups.xml
--rw-r--r--  2.0 unx     9455 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/static/description/icon.png
--rw-r--r--  2.0 unx       32 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/tests/__init__.py
--rw-r--r--  2.0 unx     2270 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/tests/test_fop_shipping.py
--rw-r--r--  2.0 unx     2903 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/views/purchase_order.xml
--rw-r--r--  2.0 unx      569 b- defN 24-Jan-20 05:53 odoo/addons/purchase_fop_shipping/views/res_partner.xml
--rw-r--r--  2.0 unx     2792 b- defN 24-Jan-20 05:53 odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Jan-20 05:53 odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 24-Jan-20 05:53 odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     3284 b- defN 24-Jan-20 05:53 odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/RECORD
-31 files, 72709 bytes uncompressed, 28860 bytes compressed:  60.3%
+Zip file size: 34448 bytes, number of entries: 31
+-rw-r--r--  2.0 unx     2238 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/__init__.py
+-rw-r--r--  2.0 unx      657 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/__manifest__.py
+-rw-r--r--  2.0 unx     2907 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/de.po
+-rw-r--r--  2.0 unx     3337 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/es.po
+-rw-r--r--  2.0 unx     3395 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/es_PE.po
+-rw-r--r--  2.0 unx     3332 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/fr.po
+-rw-r--r--  2.0 unx     2931 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/fr_BE.po
+-rw-r--r--  2.0 unx     2909 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/gl.po
+-rw-r--r--  2.0 unx     3034 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/hr.po
+-rw-r--r--  2.0 unx     3391 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/it.po
+-rw-r--r--  2.0 unx     2903 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/nl.po
+-rw-r--r--  2.0 unx     2952 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/nl_NL.po
+-rw-r--r--  2.0 unx     2952 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/pt_BR.po
+-rw-r--r--  2.0 unx     2592 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/purchase_fop_shipping.pot
+-rw-r--r--  2.0 unx     2958 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/ro.po
+-rw-r--r--  2.0 unx     2964 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/sl.po
+-rw-r--r--  2.0 unx     2925 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/i18n/vi_VN.po
+-rw-r--r--  2.0 unx       45 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/models/__init__.py
+-rw-r--r--  2.0 unx      476 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/models/partner.py
+-rw-r--r--  2.0 unx     2243 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/models/purchase.py
+-rw-r--r--  2.0 unx      352 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/security/res_groups.xml
+-rw-r--r--  2.0 unx     9455 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/static/description/icon.png
+-rw-r--r--  2.0 unx       32 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/tests/__init__.py
+-rw-r--r--  2.0 unx     2873 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/tests/test_fop_shipping.py
+-rw-r--r--  2.0 unx     2903 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/views/purchase_order.xml
+-rw-r--r--  2.0 unx      569 b- defN 24-Apr-05 07:35 odoo/addons/purchase_fop_shipping/views/res_partner.xml
+-rw-r--r--  2.0 unx     2790 b- defN 24-Apr-05 07:35 odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-Apr-05 07:35 odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 24-Apr-05 07:35 odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     3276 b- defN 24-Apr-05 07:35 odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/RECORD
+31 files, 73509 bytes uncompressed, 28914 bytes compressed:  60.7%
```

## zipnote {}

```diff
@@ -75,20 +75,20 @@
 
 Filename: odoo/addons/purchase_fop_shipping/views/purchase_order.xml
 Comment: 
 
 Filename: odoo/addons/purchase_fop_shipping/views/res_partner.xml
 Comment: 
 
-Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/METADATA
+Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/METADATA
 Comment: 
 
-Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/WHEEL
+Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/WHEEL
 Comment: 
 
-Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/top_level.txt
+Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/RECORD
+Filename: odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/purchase_fop_shipping/__manifest__.py

```diff
@@ -1,14 +1,14 @@
 # Â© 2017 Akretion (http://www.akretion.com) Payment
 #   @author Mourad EL HADJ MIMOUNE <mourad.elhadj.mimoune@akretion.com>
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html).
 
 {
     "name": "Purchase Free-Of-Payment shipping",
-    "version": "16.0.1.0.0",
+    "version": "16.0.1.0.1",
     "author": "Akretion,Odoo Community Association (OCA)",
     "website": "https://github.com/OCA/purchase-workflow",
     "maintainer": "Akretion",
     "license": "AGPL-3",
     "category": "Purchase",
     "depends": ["purchase"],
     "data": [
```

## odoo/addons/purchase_fop_shipping/models/purchase.py

```diff
@@ -31,14 +31,20 @@
     @api.depends(
         "amount_total",
         "partner_id.fop_shipping",
     )
     def _compute_fop_shipping_reached(self):
         digit_precision = self.env["decimal.precision"].precision_get("Account")
         for record in self:
+            if (
+                float_compare(record.amount_total, 0, precision_digits=digit_precision)
+                < 0
+            ):
+                record.fop_reached = True
+                continue
             record.fop_reached = (
                 float_compare(
                     record.amount_total,
                     record.partner_id.fop_shipping,
                     precision_digits=digit_precision,
                 )
                 >= 0
```

## odoo/addons/purchase_fop_shipping/tests/test_fop_shipping.py

```diff
@@ -60,7 +60,26 @@
                 "price_unit": 45,
             }
         )
 
         self.assertTrue(po.fop_reached)
         po.button_approve()
         self.assertEqual(po.state, "purchase")
+
+    def test_fop_shipping_negative(self):
+        po = self.Purchase.create({"partner_id": self.partner_3.id})
+        self.PurchaseLine.create(
+            {
+                "order_id": po.id,
+                "product_id": self.product_1.id,
+                "date_planned": fields.Datetime.now(),
+                "name": "Test",
+                "product_qty": 1.0,
+                "product_uom": self.product_1.uom_id.id,
+                "price_unit": -100.0,
+            }
+        )
+
+        self.assertTrue(po.fop_reached)
+
+        po.button_approve()
+        self.assertEqual(po.state, "purchase")
```

## Comparing `odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/METADATA` & `odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/METADATA`

 * *Files 4% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo-addon-purchase-fop-shipping
-Version: 16.0.1.0.0.5
+Version: 16.0.1.0.1
 Summary: Purchase Free-Of-Payment shipping
 Home-page: https://github.com/OCA/purchase-workflow
 Author: Akretion,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/RECORD` & `odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 odoo/addons/purchase_fop_shipping/README.rst,sha256=rYSRCo7idFVOpan5Kxqd7i3mHq_EWlC_abZGvJQF39w,2238
 odoo/addons/purchase_fop_shipping/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/purchase_fop_shipping/__manifest__.py,sha256=cJrpKGUAaczSkCfVJ2Z1jBGI550asoeaMZINm7NJL5A,657
+odoo/addons/purchase_fop_shipping/__manifest__.py,sha256=RWvi_Eefcjs9-ZaEXddpu5ysDNWu8xDPSuYN4cCklwo,657
 odoo/addons/purchase_fop_shipping/i18n/de.po,sha256=9fBeHfwPblzLICE_dY0naVGCdHE7lbnvfdxaU-dMHyg,2907
 odoo/addons/purchase_fop_shipping/i18n/es.po,sha256=PJhKjAWdFOPc4BjtfNwsc7IH28V-gmSc-3n2BfK7HBA,3337
 odoo/addons/purchase_fop_shipping/i18n/es_PE.po,sha256=MYl9Zftvmt3gmQ76h-WmF3do5V8TnIR7lLYlUFoJEYs,3395
 odoo/addons/purchase_fop_shipping/i18n/fr.po,sha256=BkXh7-oHkj5jyDJD3VIE-v7L9F0GWhNyYezlVy_nBy4,3332
 odoo/addons/purchase_fop_shipping/i18n/fr_BE.po,sha256=xlfTfRDMTrNvpl5P1TPQtcB_NqYcA9A7Ou1jxVRFEdM,2931
 odoo/addons/purchase_fop_shipping/i18n/gl.po,sha256=T96ugJvu27TQM9EJV8wfQbi2h4gPLJaanVALRGD8FNo,2909
 odoo/addons/purchase_fop_shipping/i18n/hr.po,sha256=bzTN_QggX_xCOLHkkFYLebNQWzvZT0180j3E0PXa4t8,3034
@@ -14,18 +14,18 @@
 odoo/addons/purchase_fop_shipping/i18n/pt_BR.po,sha256=Nm4i6Tgl3Cg7Nso2W_UoDPQS24vAqsQnxgfFCxqLMqQ,2952
 odoo/addons/purchase_fop_shipping/i18n/purchase_fop_shipping.pot,sha256=BOAT9IWsf_Cux_cEFDF-9vurg6Fzv2dRLkNS6eMKFiw,2592
 odoo/addons/purchase_fop_shipping/i18n/ro.po,sha256=40SIMSIfnDVK7T0hM-fkyd94jgqGbTeb81TP_4knuy8,2958
 odoo/addons/purchase_fop_shipping/i18n/sl.po,sha256=WVA4t7GLchia7ofs6Rc7J5yBkv-FkFl_XZ08rQYgpks,2964
 odoo/addons/purchase_fop_shipping/i18n/vi_VN.po,sha256=zuIH3Ht524W_0rxgSjh1AIMuxS1_qWmT3GEUCjUADt8,2925
 odoo/addons/purchase_fop_shipping/models/__init__.py,sha256=OFBYwYwD4UnLg99kCzSZpaiqJ1ckg0fIcqfsaGmbiC4,45
 odoo/addons/purchase_fop_shipping/models/partner.py,sha256=sCT_qfkIUQr3FfqoD0Cr2BDSXsUGDpjfB9UOISFTG5c,476
-odoo/addons/purchase_fop_shipping/models/purchase.py,sha256=vBbczyWhdrSWymOx8IZ_efdQpo7an8AqwE1awrFKaak,2036
+odoo/addons/purchase_fop_shipping/models/purchase.py,sha256=8T01W2ZAA3blzS6WSKD8msXp_0ySGEwAZoIM6n3_A64,2243
 odoo/addons/purchase_fop_shipping/security/res_groups.xml,sha256=sSo7-JThjplfy1AoS0gOLnls1ldYdBhr9bR82Iv_yFY,352
 odoo/addons/purchase_fop_shipping/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/purchase_fop_shipping/tests/__init__.py,sha256=S_vhXXZMTnKBFVU41BlJopf_rihaIoluV53RRjVReDw,32
-odoo/addons/purchase_fop_shipping/tests/test_fop_shipping.py,sha256=k53Q-D4l4tahNR-ZJsP-HaA31XlvgtsnVGpsureTe5o,2270
+odoo/addons/purchase_fop_shipping/tests/test_fop_shipping.py,sha256=ZQQnoipbRj_mTvFeFOndi2Zugz8iFhtT7Jh78siPTT0,2873
 odoo/addons/purchase_fop_shipping/views/purchase_order.xml,sha256=MEBX7gBoBKyH0YgIX-AebbjHzjRwLzs0deZ5gT6STd8,2903
 odoo/addons/purchase_fop_shipping/views/res_partner.xml,sha256=Bw-ugzGGdZnYh4gWiPTKYUQHWAJFn3kKmt_UgeJP9z8,569
-odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/METADATA,sha256=P5GKXpXXP8upL2FBCpHO_alW0TB7I88RCfRLLwsCfvI,2792
-odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/WHEEL,sha256=oiQVh_5PnQM0E3gPdiz09WCNmwiHDMaGer_elqB3coM,92
-odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo_addon_purchase_fop_shipping-16.0.1.0.0.5.dist-info/RECORD,,
+odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/METADATA,sha256=d93YEcWfeTJ3wC2ZtJCCmEDHrskjxUSGP1hMgCkJ9EU,2790
+odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo_addon_purchase_fop_shipping-16.0.1.0.1.dist-info/RECORD,,
```

